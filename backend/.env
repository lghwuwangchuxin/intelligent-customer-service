# Application Settings
APP_NAME=Intelligent Customer Service
APP_VERSION=1.0.0
DEBUG=true

# Server Settings
HOST=0.0.0.0
PORT=8000

# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:5173

# LLM Configuration
LLM_PROVIDER=ollama
LLM_MODEL=llama3:latest
LLM_BASE_URL=http://localhost:11434
LLM_API_KEY=
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2048

# Embedding Configuration
EMBEDDING_MODEL=nomic-embed-text
EMBEDDING_BASE_URL=http://localhost:11434
EMBEDDING_BATCH_SIZE=50
EMBEDDING_MAX_CONCURRENT=20

# Milvus Vector Store
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_COLLECTION=customer_service_kb
MILVUS_DATABASE=default

# ============ Elasticsearch Configuration ============
ELASTICSEARCH_ENABLED=true
ELASTICSEARCH_HOSTS=http://localhost:9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=
ELASTICSEARCH_INDEX_PREFIX=knowledge_base
ELASTICSEARCH_CHUNK_INDEX=knowledge_base_chunks
ELASTICSEARCH_USE_SSL=false
ELASTICSEARCH_VERIFY_CERTS=true
ELASTICSEARCH_CA_CERTS=
ELASTICSEARCH_TIMEOUT=30
ELASTICSEARCH_MAX_RETRIES=3

# ============ Hybrid Storage (ES + Milvus) ============
HYBRID_STORAGE_ENABLED=true
HYBRID_MILVUS_WEIGHT=0.7
HYBRID_ES_WEIGHT=0.3
HYBRID_SEARCH_TOP_K=20

# RAG Configuration (Basic)
RAG_CHUNK_SIZE=500
RAG_CHUNK_OVERLAP=50
RAG_TOP_K=5

# RAG Query Transformation
RAG_ENABLE_HYDE=true
RAG_ENABLE_QUERY_EXPANSION=true
RAG_QUERY_EXPANSION_NUM=3

# RAG Hybrid Retrieval
RAG_ENABLE_HYBRID=true
RAG_VECTOR_WEIGHT=0.7
RAG_BM25_WEIGHT=0.3
RAG_RETRIEVAL_TOP_K=10

# RAG Reranking (Jina)
RAG_ENABLE_RERANK=true
RAG_RERANK_MODEL=jinaai/jina-reranker-v2-base-multilingual
RAG_RERANK_TOP_N=5
RAG_RERANK_SCORE_THRESHOLD=0.3

# RAG Post-processing
RAG_ENABLE_DEDUP=true
RAG_DEDUP_THRESHOLD=0.95
RAG_FINAL_TOP_K=5

# RAG Document Processing
RAG_USE_SEMANTIC_CHUNKING=false

# Database
DATABASE_URL=sqlite+aiosqlite:///./data/customer_service.db

# Redis Cache
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_ENABLED=true

# Knowledge Base Path
KNOWLEDGE_BASE_PATH=./data/knowledge_base
AUTO_INDEX_KNOWLEDGE_BASE=true

# Langfuse Observability
LANGFUSE_ENABLED=true
LANGFUSE_SECRET_KEY=sk-lf-cd7bcb7d-27ad-4049-b4f7-4f2ca441d579
LANGFUSE_PUBLIC_KEY=pk-lf-dd167d24-a007-4afb-a3af-8c37a922870f
LANGFUSE_HOST=https://cloud.langfuse.com

# ============ Agent Configuration ============
AGENT_ENABLED=true
AGENT_MAX_ITERATIONS=10
AGENT_MEMORY_MAX_MESSAGES=20
AGENT_MEMORY_SUMMARY_THRESHOLD=10
AGENT_ENABLE_PLANNING=true
AGENT_ENABLE_PARALLEL_TOOLS=true
AGENT_TOOL_TIMEOUT=30
AGENT_MAX_TOOL_CONCURRENCY=3

# ============ MCP Tools ============
MCP_WEB_SEARCH_ENABLED=true
MCP_CODE_EXECUTION_ENABLED=false
