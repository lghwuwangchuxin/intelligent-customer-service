{"timestamp": "2026-01-05T03:16:02.691860Z", "level": "INFO", "logger": "memory-service", "message": "Logging initialized for memory-service", "module": "logging", "function": "setup_logging", "line": 126}
{"timestamp": "2026-01-05T03:16:02.692018Z", "level": "INFO", "logger": "memory-service", "message": "Starting memory-service...", "module": "run", "function": "main", "line": 59}
{"timestamp": "2026-01-05T03:16:02.692089Z", "level": "INFO", "logger": "memory-service", "message": "Configuration: host=0.0.0.0, port=8008", "module": "run", "function": "main", "line": 60}
{"timestamp": "2026-01-05T03:16:02.692152Z", "level": "INFO", "logger": "memory-service", "message": "LLM: ollama - qwen3:latest @ http://localhost:11434", "module": "run", "function": "main", "line": 61}
{"timestamp": "2026-01-05T03:16:02.709515Z", "level": "INFO", "logger": "services.memory_service.service", "message": "LLM client initialized: qwen3:latest @ http://localhost:11434", "module": "service", "function": "from_config", "line": 160}
{"timestamp": "2026-01-05T03:16:02.709651Z", "level": "INFO", "logger": "services.memory_service.memory", "message": "[Memory] 持久化存储路径: data/memory_store", "module": "memory", "function": "__init__", "line": 176}
{"timestamp": "2026-01-05T03:17:00.206414Z", "level": "INFO", "logger": "memory-service", "message": "Logging initialized for memory-service", "module": "logging", "function": "setup_logging", "line": 126}
{"timestamp": "2026-01-05T03:17:00.206521Z", "level": "INFO", "logger": "memory-service", "message": "Starting memory-service...", "module": "run", "function": "main", "line": 59}
{"timestamp": "2026-01-05T03:17:00.206585Z", "level": "INFO", "logger": "memory-service", "message": "Configuration: host=0.0.0.0, port=8008", "module": "run", "function": "main", "line": 60}
{"timestamp": "2026-01-05T03:17:00.206642Z", "level": "INFO", "logger": "memory-service", "message": "LLM: ollama - qwen3:latest @ http://localhost:11434", "module": "run", "function": "main", "line": 61}
{"timestamp": "2026-01-05T03:17:00.216547Z", "level": "INFO", "logger": "services.memory_service.service", "message": "LLM client initialized: qwen3:latest @ http://localhost:11434", "module": "service", "function": "from_config", "line": 161}
{"timestamp": "2026-01-05T03:17:00.216684Z", "level": "INFO", "logger": "services.memory_service.memory", "message": "[Memory] 持久化存储路径: data/memory_store", "module": "memory", "function": "__init__", "line": 176}
{"timestamp": "2026-01-05T03:17:00.216984Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[Store] Loaded 0 namespaces from disk", "module": "store", "function": "_load_all", "line": 525}
{"timestamp": "2026-01-05T03:17:00.217048Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[Store] PersistentStore initialized at data/memory_store", "module": "store", "function": "__init__", "line": 495}
{"timestamp": "2026-01-05T03:17:00.217109Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[StoreManager] Initialized with PersistentStore", "module": "store", "function": "__init__", "line": 734}
{"timestamp": "2026-01-05T03:17:00.217165Z", "level": "INFO", "logger": "memory-service", "message": "memory-service starting on http://0.0.0.0:8008", "module": "run", "function": "main", "line": 69}
{"timestamp": "2026-01-05T03:17:00.297565Z", "level": "INFO", "logger": "services.common.fastapi_nacos", "message": "Nacos registration disabled", "module": "fastapi_nacos", "function": "startup", "line": 115}
{"timestamp": "2026-01-05T03:17:00.299869Z", "level": "INFO", "logger": "services.memory_service.service", "message": "Loaded persisted short-term memories", "module": "service", "function": "initialize", "line": 174}
{"timestamp": "2026-01-05T03:17:00.299945Z", "level": "INFO", "logger": "services.memory_service.service", "message": "Memory Service initialized", "module": "service", "function": "initialize", "line": 179}
{"timestamp": "2026-01-05T03:17:00.300023Z", "level": "INFO", "logger": "services.memory_service.server", "message": "Memory Service started", "module": "server", "function": "_on_startup", "line": 184}
{"timestamp": "2026-01-05T03:19:05.296174Z", "level": "INFO", "logger": "memory-service", "message": "Logging initialized for memory-service", "module": "logging", "function": "setup_logging", "line": 126}
{"timestamp": "2026-01-05T03:19:05.296283Z", "level": "INFO", "logger": "memory-service", "message": "Starting memory-service...", "module": "run", "function": "main", "line": 59}
{"timestamp": "2026-01-05T03:19:05.296357Z", "level": "INFO", "logger": "memory-service", "message": "Configuration: host=0.0.0.0, port=8008", "module": "run", "function": "main", "line": 60}
{"timestamp": "2026-01-05T03:19:05.296424Z", "level": "INFO", "logger": "memory-service", "message": "LLM: ollama - qwen3:latest @ http://localhost:11434", "module": "run", "function": "main", "line": 61}
{"timestamp": "2026-01-05T03:19:05.306644Z", "level": "INFO", "logger": "services.memory_service.service", "message": "LLM client initialized: qwen3:latest @ http://localhost:11434", "module": "service", "function": "from_config", "line": 161}
{"timestamp": "2026-01-05T03:19:05.306806Z", "level": "INFO", "logger": "services.memory_service.memory", "message": "[Memory] 持久化存储路径: data/memory_store", "module": "memory", "function": "__init__", "line": 176}
{"timestamp": "2026-01-05T03:19:05.307138Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[Store] Loaded 0 namespaces from disk", "module": "store", "function": "_load_all", "line": 525}
{"timestamp": "2026-01-05T03:19:05.307210Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[Store] PersistentStore initialized at data/memory_store", "module": "store", "function": "__init__", "line": 495}
{"timestamp": "2026-01-05T03:19:05.307276Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[StoreManager] Initialized with PersistentStore", "module": "store", "function": "__init__", "line": 734}
{"timestamp": "2026-01-05T03:19:05.307340Z", "level": "INFO", "logger": "memory-service", "message": "memory-service starting on http://0.0.0.0:8008", "module": "run", "function": "main", "line": 69}
{"timestamp": "2026-01-05T03:19:05.367997Z", "level": "INFO", "logger": "services.common.fastapi_nacos", "message": "Nacos registration disabled", "module": "fastapi_nacos", "function": "startup", "line": 115}
{"timestamp": "2026-01-05T03:19:05.368977Z", "level": "INFO", "logger": "services.memory_service.service", "message": "Loaded persisted short-term memories", "module": "service", "function": "initialize", "line": 174}
{"timestamp": "2026-01-05T03:19:05.369054Z", "level": "INFO", "logger": "services.memory_service.service", "message": "Memory Service initialized", "module": "service", "function": "initialize", "line": 179}
{"timestamp": "2026-01-05T03:19:05.369131Z", "level": "INFO", "logger": "services.memory_service.server", "message": "Memory Service started", "module": "server", "function": "_on_startup", "line": 184}
{"timestamp": "2026-01-05T03:19:36.416822Z", "level": "ERROR", "logger": "services.memory_service.server", "message": "Create conversation failed: 'MemoryManager' object has no attribute 'get_or_create_memory'", "module": "server", "function": "create_conversation", "line": 250}
{"timestamp": "2026-01-05T03:20:34.234621Z", "level": "INFO", "logger": "memory-service", "message": "Logging initialized for memory-service", "module": "logging", "function": "setup_logging", "line": 126}
{"timestamp": "2026-01-05T03:20:34.234723Z", "level": "INFO", "logger": "memory-service", "message": "Starting memory-service...", "module": "run", "function": "main", "line": 59}
{"timestamp": "2026-01-05T03:20:34.234790Z", "level": "INFO", "logger": "memory-service", "message": "Configuration: host=0.0.0.0, port=8008", "module": "run", "function": "main", "line": 60}
{"timestamp": "2026-01-05T03:20:34.234850Z", "level": "INFO", "logger": "memory-service", "message": "LLM: ollama - qwen3:latest @ http://localhost:11434", "module": "run", "function": "main", "line": 61}
{"timestamp": "2026-01-05T03:20:34.244839Z", "level": "INFO", "logger": "services.memory_service.service", "message": "LLM client initialized: qwen3:latest @ http://localhost:11434", "module": "service", "function": "from_config", "line": 161}
{"timestamp": "2026-01-05T03:20:34.244992Z", "level": "INFO", "logger": "services.memory_service.memory", "message": "[Memory] 持久化存储路径: data/memory_store", "module": "memory", "function": "__init__", "line": 176}
{"timestamp": "2026-01-05T03:20:34.245318Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[Store] Loaded 0 namespaces from disk", "module": "store", "function": "_load_all", "line": 525}
{"timestamp": "2026-01-05T03:20:34.245385Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[Store] PersistentStore initialized at data/memory_store", "module": "store", "function": "__init__", "line": 495}
{"timestamp": "2026-01-05T03:20:34.245449Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[StoreManager] Initialized with PersistentStore", "module": "store", "function": "__init__", "line": 734}
{"timestamp": "2026-01-05T03:20:34.245511Z", "level": "INFO", "logger": "memory-service", "message": "memory-service starting on http://0.0.0.0:8008", "module": "run", "function": "main", "line": 69}
{"timestamp": "2026-01-05T03:20:34.296812Z", "level": "INFO", "logger": "services.common.fastapi_nacos", "message": "Nacos registration disabled", "module": "fastapi_nacos", "function": "startup", "line": 115}
{"timestamp": "2026-01-05T03:20:34.297743Z", "level": "INFO", "logger": "services.memory_service.service", "message": "Loaded persisted short-term memories", "module": "service", "function": "initialize", "line": 174}
{"timestamp": "2026-01-05T03:20:34.297806Z", "level": "INFO", "logger": "services.memory_service.service", "message": "Memory Service initialized", "module": "service", "function": "initialize", "line": 179}
{"timestamp": "2026-01-05T03:20:34.297871Z", "level": "INFO", "logger": "services.memory_service.server", "message": "Memory Service started", "module": "server", "function": "_on_startup", "line": 184}
{"timestamp": "2026-01-05T03:20:57.073161Z", "level": "ERROR", "logger": "services.memory_service.server", "message": "Add message failed: 'NoneType' object has no attribute 'log_add_message'", "module": "server", "function": "add_message", "line": 317}
{"timestamp": "2026-01-05T03:20:57.084884Z", "level": "ERROR", "logger": "services.memory_service.server", "message": "Add message failed: 'NoneType' object has no attribute 'log_add_message'", "module": "server", "function": "add_message", "line": 317}
{"timestamp": "2026-01-05T03:20:57.096152Z", "level": "ERROR", "logger": "services.memory_service.server", "message": "Get context failed: 'NoneType' object has no attribute 'log_get_context'", "module": "server", "function": "get_context", "line": 330}
{"timestamp": "2026-01-05T03:20:57.107745Z", "level": "ERROR", "logger": "services.memory_service.server", "message": "List conversations failed: MemoryManager.list_conversations() got an unexpected keyword argument 'page'", "module": "server", "function": "list_conversations", "line": 275}
{"timestamp": "2026-01-05T03:25:03.398122Z", "level": "INFO", "logger": "memory-service", "message": "Logging initialized for memory-service", "module": "logging", "function": "setup_logging", "line": 126}
{"timestamp": "2026-01-05T03:25:03.398247Z", "level": "INFO", "logger": "memory-service", "message": "Starting memory-service...", "module": "run", "function": "main", "line": 59}
{"timestamp": "2026-01-05T03:25:03.398328Z", "level": "INFO", "logger": "memory-service", "message": "Configuration: host=0.0.0.0, port=8008", "module": "run", "function": "main", "line": 60}
{"timestamp": "2026-01-05T03:25:03.398401Z", "level": "INFO", "logger": "memory-service", "message": "LLM: ollama - qwen3:latest @ http://localhost:11434", "module": "run", "function": "main", "line": 61}
{"timestamp": "2026-01-05T03:25:03.408569Z", "level": "INFO", "logger": "services.memory_service.service", "message": "LLM client initialized: qwen3:latest @ http://localhost:11434", "module": "service", "function": "from_config", "line": 161}
{"timestamp": "2026-01-05T03:25:03.408729Z", "level": "INFO", "logger": "services.memory_service.memory", "message": "[Memory] 持久化存储路径: data/memory_store", "module": "memory", "function": "__init__", "line": 176}
{"timestamp": "2026-01-05T03:25:03.409039Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[Store] Loaded 0 namespaces from disk", "module": "store", "function": "_load_all", "line": 525}
{"timestamp": "2026-01-05T03:25:03.409106Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[Store] PersistentStore initialized at data/memory_store", "module": "store", "function": "__init__", "line": 495}
{"timestamp": "2026-01-05T03:25:03.409168Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[StoreManager] Initialized with PersistentStore", "module": "store", "function": "__init__", "line": 734}
{"timestamp": "2026-01-05T03:25:03.409227Z", "level": "INFO", "logger": "memory-service", "message": "memory-service starting on http://0.0.0.0:8008", "module": "run", "function": "main", "line": 69}
{"timestamp": "2026-01-05T03:25:03.487249Z", "level": "INFO", "logger": "services.common.fastapi_nacos", "message": "Nacos registration disabled", "module": "fastapi_nacos", "function": "startup", "line": 115}
{"timestamp": "2026-01-05T03:25:03.489169Z", "level": "INFO", "logger": "services.memory_service.service", "message": "Loaded persisted short-term memories", "module": "service", "function": "initialize", "line": 174}
{"timestamp": "2026-01-05T03:25:03.489252Z", "level": "INFO", "logger": "services.memory_service.service", "message": "Memory Service initialized", "module": "service", "function": "initialize", "line": 179}
{"timestamp": "2026-01-05T03:25:03.489336Z", "level": "INFO", "logger": "services.memory_service.server", "message": "Memory Service started", "module": "server", "function": "_on_startup", "line": 184}
{"timestamp": "2026-01-05T03:25:28.127072Z", "level": "ERROR", "logger": "services.memory_service.server", "message": "Get context failed: object list can't be used in 'await' expression", "module": "server", "function": "get_context", "line": 330}
{"timestamp": "2026-01-05T03:25:28.200716Z", "level": "INFO", "logger": "services.memory_service.memory", "message": "[Memory] 列出对话 | 返回: 1 条 | 总计: 1 条 | 排序: updated_at DESC", "module": "memory", "function": "list_conversations", "line": 550}
{"timestamp": "2026-01-05T03:26:52.574010Z", "level": "INFO", "logger": "memory-service", "message": "Logging initialized for memory-service", "module": "logging", "function": "setup_logging", "line": 126}
{"timestamp": "2026-01-05T03:26:52.574122Z", "level": "INFO", "logger": "memory-service", "message": "Starting memory-service...", "module": "run", "function": "main", "line": 59}
{"timestamp": "2026-01-05T03:26:52.574194Z", "level": "INFO", "logger": "memory-service", "message": "Configuration: host=0.0.0.0, port=8008", "module": "run", "function": "main", "line": 60}
{"timestamp": "2026-01-05T03:26:52.574260Z", "level": "INFO", "logger": "memory-service", "message": "LLM: ollama - qwen3:latest @ http://localhost:11434", "module": "run", "function": "main", "line": 61}
{"timestamp": "2026-01-05T03:26:52.584489Z", "level": "INFO", "logger": "services.memory_service.service", "message": "LLM client initialized: qwen3:latest @ http://localhost:11434", "module": "service", "function": "from_config", "line": 161}
{"timestamp": "2026-01-05T03:26:52.584640Z", "level": "INFO", "logger": "services.memory_service.memory", "message": "[Memory] 持久化存储路径: data/memory_store", "module": "memory", "function": "__init__", "line": 176}
{"timestamp": "2026-01-05T03:26:52.585086Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[Store] Loaded 1 namespaces from disk", "module": "store", "function": "_load_all", "line": 525}
{"timestamp": "2026-01-05T03:26:52.585185Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[Store] PersistentStore initialized at data/memory_store", "module": "store", "function": "__init__", "line": 495}
{"timestamp": "2026-01-05T03:26:52.585251Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[StoreManager] Initialized with PersistentStore", "module": "store", "function": "__init__", "line": 734}
{"timestamp": "2026-01-05T03:26:52.585313Z", "level": "INFO", "logger": "memory-service", "message": "memory-service starting on http://0.0.0.0:8008", "module": "run", "function": "main", "line": 69}
{"timestamp": "2026-01-05T03:26:52.656098Z", "level": "INFO", "logger": "services.common.fastapi_nacos", "message": "Nacos registration disabled", "module": "fastapi_nacos", "function": "startup", "line": 115}
{"timestamp": "2026-01-05T03:26:52.657724Z", "level": "INFO", "logger": "services.memory_service.service", "message": "Loaded persisted short-term memories", "module": "service", "function": "initialize", "line": 174}
{"timestamp": "2026-01-05T03:26:52.657807Z", "level": "INFO", "logger": "services.memory_service.service", "message": "Memory Service initialized", "module": "service", "function": "initialize", "line": 179}
{"timestamp": "2026-01-05T03:26:52.657890Z", "level": "INFO", "logger": "services.memory_service.server", "message": "Memory Service started", "module": "server", "function": "_on_startup", "line": 184}
{"timestamp": "2026-01-05T03:26:56.768965Z", "level": "INFO", "logger": "services.memory_service.store", "message": "[StoreManager] Set user preference: user123/language=zh-CN", "module": "store", "function": "set_user_preference", "line": 762}
{"timestamp": "2026-01-05T03:26:56.780005Z", "level": "ERROR", "logger": "services.memory_service.server", "message": "Get preferences failed: 'StoreManager' object has no attribute 'search_user_preferences'", "module": "server", "function": "get_user_preferences", "line": 412}
{"timestamp": "2026-01-05T03:26:56.791440Z", "level": "ERROR", "logger": "services.memory_service.service", "message": "Failed to store knowledge: StoreManager.store_knowledge() missing 1 required positional argument: 'content'", "module": "service", "function": "store_knowledge", "line": 570}
{"timestamp": "2026-01-05T10:32:15.853388Z", "level": "ERROR", "logger": "services.memory_service.service", "message": "Failed to persist memory on shutdown: MemoryManager._persist_memory() missing 1 required positional argument: 'memory'", "module": "service", "function": "shutdown", "line": 192}
{"timestamp": "2026-01-05T10:32:15.855825Z", "level": "INFO", "logger": "services.memory_service.server", "message": "Memory Service shutting down", "module": "server", "function": "_on_shutdown", "line": 189}
